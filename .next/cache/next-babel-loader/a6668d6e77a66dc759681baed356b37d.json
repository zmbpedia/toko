{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Layout from \"../components/layout\";\nimport fetch from \"isomorphic-unfetch\";\nimport React from \"react\";\nimport Link from \"next/link\";\nimport ReactPaginate from \"react-paginate\";\nimport { default as minifyCssString } from \"minify-css-string\";\nimport { NextSeo } from 'next-seo';\n\nfunction truncate(str) {\n  return str.length > 10 ? str.substring(0, 20) + \"...\" : str;\n}\n\nvar Produk = /*#__PURE__*/function (_React$Component) {\n  _inherits(Produk, _React$Component);\n\n  var _super = _createSuper(Produk);\n\n  function Produk() {\n    var _this;\n\n    _classCallCheck(this, Produk);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePageClick\", function (e) {\n      var selectedPage = e.selected;\n      var offset = selectedPage * _this.state.perPage;\n\n      _this.setState({\n        currentPage: selectedPage,\n        offset: offset\n      });\n\n      _this.receivedData(offset);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"receivedData\", function (e) {\n      console.log(e);\n      window.scrollTo(0, 0);\n      var myArray = [];\n\n      for (var i = 0; i < _this.props.show.data.length; i++) {\n        var value = _this.props.show.data[i];\n        var values = _this.props.show.data[0];\n        var num = value[\"id\"];\n        var namaproduk = value[\"namaproduk\"];\n        var harga = value[\"harga\"];\n        var gambar = value[\"gambar\"];\n        var sh = values[\"gambar\"];\n        var on = value[\"stok\"];\n        var kast = value[\"kat\"];\n        var on;\n        var ulr = window.location.href;\n        var one = ulr.split(\"/\")[4];\n        var two = ulr.split(\"/\")[5];\n        myArray.push({\n          id: num,\n          nama: namaproduk,\n          gambar: gambar,\n          harga: harga,\n          stok: on\n        });\n      }\n\n      var slice = myArray.slice(e, e + _this.state.perPage);\n      var postData = slice.map(function (a) {\n        return __jsx(\"div\", {\n          className: \"col-12 col-sm-6 col-lg-4 featureCol mb-7\"\n        }, __jsx(\"div\", {\n          className: \"border\"\n        }, __jsx(\"div\", {\n          className: \"imgHolder position-relative w-100 overflow-hidden\"\n        }, __jsx(\"img\", {\n          src: a.gambar,\n          style: {\n            height: \"300px\",\n            objectFit: \"cover\",\n            width: \"100%\"\n          },\n          id: \"wax-img\",\n          alt: a.namaproduk,\n          className: \"img-fluid\"\n        })), __jsx(\"div\", {\n          className: \"text-center py-5 px-4\"\n        }, __jsx(\"span\", {\n          className: \"title d-block mb-2\"\n        }, __jsx(Link, {\n          href: \"/produk/[id]/[product]\",\n          as: \"/produk/\".concat(a.id, \"/\").concat(a.nama.replace(/\\s/g, \"-\"))\n        }, __jsx(\"a\", null, \" \", truncate(a.nama)))), __jsx(\"span\", {\n          className: \"price d-block fwEbold\"\n        }, a.harga), a.stok ? __jsx(\"span\", {\n          \"class\": \"hotOffer green fwEbold text-uppercase text-white position-absolute d-block ml-8 ups\"\n        }, \"Tersedia\") : __jsx(\"span\", {\n          \"class\": \"hotOffer fwEbold text-uppercase text-white position-absolute d-block ml-8 abs\"\n        }, \"Stok habis\"))));\n      });\n\n      _this.setState({\n        pageCount: Math.ceil(myArray.length / _this.state.perPage),\n        postData: postData\n      });\n    });\n\n    _this.state = {\n      imageIndex: 0,\n      data: [],\n      gm: \"\",\n      offset: 0,\n      perPage: 3,\n      currentPage: 0\n    };\n    _this.handlePageClick = _this.handlePageClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Produk, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      var myArray = [];\n\n      for (var i = 0; i < this.props.show.data.length; i++) {\n        var value = this.props.show.data[i];\n        var values = this.props.show.data[0];\n        var num = value[\"id\"];\n        var namaproduk = value[\"namaproduk\"];\n        var harga = value[\"harga\"];\n        var gambar = value[\"gambar\"];\n        var sh = values[\"gambar\"];\n        var on = value[\"stok\"];\n        var kast = value[\"kat\"];\n        var stok;\n        var ulr = window.location.href;\n        var one = ulr.split(\"/\")[4];\n        var two = ulr.split(\"/\")[5];\n        this.setState({\n          namekat: \"zmbpediabogor - Katalog produk\",\n          ada: \"yes\",\n          titles: \"zmbpediabogor - Katalog produk\",\n          urls: \"https://zmbpediabogor.store/product\",\n          gam: sh\n        });\n        myArray.push({\n          id: num,\n          nama: namaproduk,\n          gambar: gambar,\n          harga: harga,\n          stok: on\n        });\n      }\n\n      if (myArray.length) {\n        var slice = myArray.slice(this.state.offset, this.state.offset + this.state.perPage);\n        var postData = slice.map(function (a) {\n          return __jsx(\"div\", {\n            className: \"col-12 col-sm-6 col-lg-4 featureCol mb-7\"\n          }, __jsx(\"div\", {\n            className: \"border\"\n          }, __jsx(\"div\", {\n            className: \"imgHolder position-relative w-100 overflow-hidden\"\n          }, __jsx(\"img\", {\n            src: a.gambar,\n            style: {\n              height: \"300px\",\n              objectFit: \"cover\",\n              width: \"100%\"\n            },\n            id: \"wax-img\",\n            alt: a.namaproduk,\n            className: \"img-fluid\"\n          })), __jsx(\"div\", {\n            className: \"text-center py-5 px-4\"\n          }, __jsx(\"span\", {\n            className: \"title d-block mb-2\"\n          }, __jsx(Link, {\n            href: \"/produk/[id]/[product]\",\n            as: \"/produk/\".concat(a.id, \"/\").concat(a.nama.replace(/\\s/g, \"-\"))\n          }, __jsx(\"a\", null, \" \", truncate(a.nama)))), __jsx(\"span\", {\n            className: \"price d-block fwEbold\"\n          }, a.harga), a.stok ? __jsx(\"span\", {\n            \"class\": \"hotOffer green fwEbold text-uppercase text-white position-absolute d-block ml-8 ups\"\n          }, \"Tersedia\") : __jsx(\"span\", {\n            \"class\": \"hotOffer fwEbold text-uppercase text-white position-absolute d-block ml-8 abs\"\n          }, \"Stok habis\"))));\n        });\n        this.setState({\n          pageCount: Math.ceil(myArray.length / this.state.perPage),\n          postData: postData\n        });\n      } else {\n        this.setState({\n          ada: \"no\"\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var cssString = \"\\n  .border{  border: 1px solid #dee2e6!important}\\n  .overl{\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    background: rgba(255,255,255, .8);\\n          }\\n.productTextHolder .price {\\n    font-size: 15px;\\n    margin-top:20px;\\n    }\\n          .featureCol .price {\\n    font-size: 13px;\\n    line-height: 18px;\\n    color: #16941a;\\n}\\n.featureCol .hotOffer {\\n    background: #5ba515;\\n    top: 30px;\\n    left: 0;\\n    margin-left: 0 !important;\\n}\\n.featureCol .hotOffer.ups {\\n      top: 23px !important;\\n}\\n.featureCol .hotOffer.abs {\\n  background:#f9861f !important;\\n}\\n          \";\n      var currentPage = this.state.currentPage;\n      return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(\"style\", {\n        dangerouslySetInnerHTML: {\n          __html: minifyCssString(cssString)\n        }\n      }), __jsx(NextSeo, {\n        title: \"zmbpediabogor - Katalog produk\",\n        description: \"Toko aneka macam tanaman hias\",\n        canonical: \"https://zmbpediabogor.store/produk\",\n        openGraph: {\n          url: \"https://zmbpediabogor.store/produk\",\n          title: \"zmbpediabogor - Katalog produk\",\n          description: \"Toko aneka macam tanaman hias\",\n          images: [{\n            url: \"https://zmbpediabogor.store/assets/img/logo.png\",\n            width: 600,\n            height: 315,\n            alt: 'zmbpediabogor'\n          }],\n          site_name: 'zmbpediabogor'\n        }\n      }), __jsx(\"section\", {\n        className: \"introBannerHolder d-flex w-100 bgCover\",\n        style: {\n          background: \"url(\".concat(this.props.gambarnya, \")\"),\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\"\n        }\n      }, __jsx(\"div\", {\n        className: \"overl\"\n      }), __jsx(\"div\", {\n        \"class\": \"container\"\n      }, __jsx(\"div\", {\n        \"class\": \"row\"\n      }, __jsx(\"div\", {\n        \"class\": \"col-12 pt-lg-23 pt-md-15 pt-sm-10 pt-6 text-center\"\n      }, __jsx(\"h1\", {\n        \"class\": \"headingIV fwEbold playfair mb-4\"\n      }, \"Katalog\"), __jsx(\"ul\", {\n        \"class\": \"list-unstyled breadCrumbs d-flex justify-content-center\"\n      }, __jsx(\"li\", {\n        \"class\": \"mr-2\"\n      }, __jsx(Link, {\n        href: \"/\",\n        to: \"/\"\n      }, __jsx(\"a\", null, \"Beranda\"))), __jsx(\"li\", {\n        \"class\": \"mr-2\"\n      }, \"/\"), __jsx(\"li\", {\n        \"class\": \"active\"\n      }, \"Katalog\")))))), __jsx(\"div\", {\n        \"class\": \"twoColumns container pt-lg-23 pb-lg-20 pt-md-16 pb-md-4 pt-10 pb-4\"\n      }, __jsx(\"div\", {\n        \"class\": \"row\"\n      }, __jsx(\"div\", {\n        \"class\": \"col-12 col-lg-12 order-lg-3\"\n      }, __jsx(\"article\", {\n        id: \"content\"\n      }, __jsx(\"div\", {\n        \"class\": \"row\"\n      }, this.state.postData, __jsx(\"div\", {\n        \"class\": \"col-12 pt-3 mb-lg-0 mb-md-6 mb-3\"\n      }, __jsx(ReactPaginate, {\n        previousLabel: \"prev\",\n        nextLabel: \"next\",\n        breakLabel: \"...\",\n        breakClassName: \"break-me\",\n        pageCount: this.state.pageCount,\n        marginPagesDisplayed: 2,\n        pageRangeDisplayed: 5,\n        onPageChange: this.handlePageClick,\n        containerClassName: \"pagination\",\n        subContainerClassName: \"pages pagination\",\n        activeClassName: \"active\"\n      })))))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var res, show, gambarnya, altgam;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"https://zmbpediabogor.store/api/catalogdata\");\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                show = _context.sent;\n                gambarnya = '';\n                altgam = '';\n\n                if (!show.data.length) {\n                  _context.next = 15;\n                  break;\n                }\n\n                _context.next = 11;\n                return show.ogimg;\n\n              case 11:\n                gambarnya = _context.sent;\n                _context.next = 14;\n                return show.alt;\n\n              case 14:\n                altgam = _context.sent;\n\n              case 15:\n                return _context.abrupt(\"return\", {\n                  show: show,\n                  gambarnya: gambarnya,\n                  altgam: altgam\n                });\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Produk;\n}(React.Component);\n\nexport { Produk as default };","map":null,"metadata":{},"sourceType":"module"}