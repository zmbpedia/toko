{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Layout from \"../../../components/layout\";\nimport ReactPaginate from \"react-paginate\";\nimport fetch from \"isomorphic-unfetch\";\nimport { NextSeo } from 'next-seo';\nimport Link from \"next/link\";\nimport { default as minifyCssString } from \"minify-css-string\";\n\nfunction truncate(str) {\n  return str.length > 10 ? str.substring(0, 100) + \"...\" : str;\n}\n\nvar Category = /*#__PURE__*/function (_React$Component) {\n  _inherits(Category, _React$Component);\n\n  var _super = _createSuper(Category);\n\n  function Category() {\n    var _this;\n\n    _classCallCheck(this, Category);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"receivedData\", function (e) {\n      window.scrollTo(0, 0);\n      var myArray = [];\n\n      for (var i = 0; i < _this.props.show.data.length; i++) {\n        var value = _this.props.show.data[i];\n        var values = _this.props.show.data[0];\n        var num = value[\"id\"];\n        var namaproduk = value[\"namaproduk\"];\n        var harga = value[\"harga\"];\n        var gambar = value[\"gambar\"];\n        var sh = values[\"gambar\"];\n        var on = value[\"stok\"];\n        var kast = value[\"kategori\"];\n        var stok;\n        var ulr = window.location.href;\n        var one = ulr.split(\"/\")[4];\n        var two = ulr.split(\"/\")[5];\n        myArray.push({\n          id: num,\n          nama: namaproduk,\n          gambar: gambar,\n          harga: harga,\n          stok: on,\n          kats: kast\n        });\n      }\n\n      var slice = myArray.slice(e, e + _this.state.perPage);\n      var postData = slice.map(function (a) {\n        return __jsx(\"div\", {\n          className: \"col-12 col-sm-6 col-lg-4 featureCol mb-7\"\n        }, __jsx(\"div\", {\n          className: \"border\"\n        }, __jsx(\"div\", {\n          className: \"imgHolder position-relative w-100 overflow-hidden\"\n        }, __jsx(\"img\", {\n          src: a.gambar,\n          style: {\n            height: \"300px\",\n            objectFit: \"cover\",\n            width: \"100%\"\n          },\n          id: \"wax-img\",\n          alt: a.namaproduk,\n          className: \"img-fluid\"\n        })), __jsx(\"div\", {\n          className: \"text-center py-5 px-4\"\n        }, __jsx(\"span\", {\n          className: \"title d-block mb-2\"\n        }, __jsx(Link, {\n          href: \"/produk/[id]/[product]\",\n          as: \"/produk/\".concat(a.id, \"/\").concat(a.nama.replace(/\\s/g, \"-\"))\n        }, __jsx(\"a\", null, \" \", truncate(a.nama)))), __jsx(\"span\", {\n          className: \"price d-block fwEbold\"\n        }, a.harga), a.stok ? __jsx(\"span\", {\n          \"class\": \"hotOffer green fwEbold text-uppercase text-white position-absolute d-block ml-8 ups\"\n        }, \"Tersedia\") : __jsx(\"span\", {\n          \"class\": \"hotOffer fwEbold text-uppercase text-white position-absolute d-block ml-8 abs\"\n        }, \"Stok habis\"))));\n      });\n\n      _this.setState({\n        pageCount: Math.ceil(myArray.length / _this.state.perPage),\n        postData: postData,\n        productdata: myArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePageClick\", function (e) {\n      var selectedPage = e.selected;\n      var offset = selectedPage * _this.state.perPage;\n\n      _this.setState({\n        currentPage: selectedPage,\n        offset: offset\n      });\n\n      _this.receivedData(offset);\n    });\n\n    _this.state = {\n      imageIndex: 0,\n      data: [],\n      offset: 0,\n      perPage: 6,\n      currentPage: 0,\n      namekat: \"\",\n      ada: \"\"\n    };\n    _this.handlePageClick = _this.handlePageClick;\n    return _this;\n  }\n\n  _createClass(Category, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      var myArray = [];\n\n      for (var i = 0; i < this.props.show.data.length; i++) {\n        var value = this.props.show.data[i];\n        var values = this.props.show.data[0];\n        var num = value[\"id\"];\n        var namaproduk = value[\"namaproduk\"];\n        var harga = value[\"harga\"];\n        var gambar = value[\"gambar\"];\n        var sh = values[\"gambar\"];\n        var on = value[\"stok\"];\n        var kast = value[\"kategori\"];\n        var stok;\n        var ulr = window.location.href;\n        var one = ulr.split(\"/\")[4];\n        var two = ulr.split(\"/\")[5];\n        this.setState({\n          namekat: this.props.category,\n          ada: \"yes\"\n        });\n        myArray.push({\n          id: num,\n          nama: namaproduk,\n          gambar: gambar,\n          harga: harga,\n          stok: on,\n          kats: kast\n        });\n      }\n\n      if (myArray.length) {\n        var slice = myArray.slice(this.state.offset, this.state.offset + this.state.perPage);\n        var postData = slice.map(function (a) {\n          return __jsx(\"div\", {\n            className: \"col-12 col-sm-6 col-lg-4 featureCol mb-7\"\n          }, __jsx(\"div\", {\n            className: \"border\"\n          }, __jsx(\"div\", {\n            className: \"imgHolder position-relative w-100 overflow-hidden\"\n          }, __jsx(\"img\", {\n            src: a.gambar,\n            style: {\n              height: \"300px\",\n              objectFit: \"cover\",\n              width: \"100%\"\n            },\n            id: \"wax-img\",\n            alt: a.namaproduk,\n            className: \"img-fluid\"\n          })), __jsx(\"div\", {\n            className: \"text-center py-5 px-4\"\n          }, __jsx(\"span\", {\n            className: \"title d-block mb-2\"\n          }, __jsx(Link, {\n            href: \"/produk/[id]/[product]\",\n            as: \"/produk/\".concat(a.id, \"/\").concat(a.nama.replace(/\\s/g, \"-\"))\n          }, __jsx(\"a\", null, \" \", truncate(a.nama)))), __jsx(\"span\", {\n            className: \"price d-block fwEbold\"\n          }, a.harga), a.stok ? __jsx(\"span\", {\n            \"class\": \"hotOffer green fwEbold text-uppercase text-white position-absolute d-block ml-8 ups\"\n          }, \"Tersedia\") : __jsx(\"span\", {\n            \"class\": \"hotOffer fwEbold text-uppercase text-white position-absolute d-block ml-8 abs\"\n          }, \"Stok habis\"))));\n        });\n        this.setState({\n          pageCount: Math.ceil(myArray.length / this.state.perPage),\n          postData: postData,\n          productdata: myArray\n        });\n      } else {\n        this.setState({\n          ada: \"no\"\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var cssString = \"\\n    .border{  border: 1px solid #dee2e6!important}\\n          .overl{\\n            width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    background: rgba(255,255,255, .5);\\n          }\\n.main-content-wrapper {\\n  margin-top: 100px;\\n  margin-bottom: 100px;\\n}.productTextHolder .price {\\n    font-size: 15px;\\n    margin-top:20px;\\n    }\\n          .featureCol .price {\\n    font-size: 13px;\\n    line-height: 18px;\\n    color: #16941a;\\n}\\n.featureCol .hotOffer {\\n    background: #5ba515;\\n    top: 30px;\\n    left: 0;\\n    margin-left: 0 !important;\\n}\\n.featureCol .hotOffer.ups {\\n      top: 23px !important;\\n}\\n.featureCol .hotOffer.abs {\\n  background:#f9861f !important;\\n}\\n.img-eror{\\n              font-size: 130px;\\n    text-align: center;\\n    width: 100%;\\n}\";\n      var _this$state = this.state,\n          currentPage = _this$state.currentPage,\n          namekat = _this$state.namekat,\n          ada = _this$state.ada;\n      return __jsx(Layout, null, __jsx(\"style\", {\n        dangerouslySetInnerHTML: {\n          __html: minifyCssString(cssString)\n        }\n      }), __jsx(NextSeo, {\n        title: this.props.titlehead,\n        description: this.props.des,\n        canonical: this.props.linknya,\n        openGraph: {\n          url: this.props.linknya,\n          title: this.props.titlehead,\n          description: this.props.des,\n          images: [{\n            url: this.props.gambarnya,\n            width: 600,\n            height: 315,\n            alt: this.props.category\n          }],\n          site_name: 'zmbpediabogor'\n        }\n      }), __jsx(\"section\", {\n        className: \"introBannerHolder d-flex w-100 bgCover\",\n        style: {\n          background: \"url(\".concat(this.props.gambarnya, \")\"),\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\"\n        }\n      }, __jsx(\"div\", {\n        className: \"overl\",\n        style: {\n          background: 'rgba(255,255,255, .8)'\n        }\n      }), __jsx(\"div\", {\n        \"class\": \"container\"\n      }, __jsx(\"div\", {\n        \"class\": \"row\"\n      }, __jsx(\"div\", {\n        \"class\": \"col-12 pt-lg-23 pt-md-15 pt-sm-10 pt-6 text-center\"\n      }, __jsx(\"h1\", {\n        \"class\": \"headingIV fwEbold playfair mb-4\"\n      }, \" \", this.state.namekat.replace(/\\-/g, \" \")), __jsx(\"ul\", {\n        \"class\": \"list-unstyled breadCrumbs d-flex justify-content-center\"\n      }, __jsx(\"li\", {\n        \"class\": \"mr-2\"\n      }, __jsx(Link, {\n        href: \"/\",\n        to: \"/\"\n      }, __jsx(\"a\", null, \"Beranda\"))), __jsx(\"li\", {\n        \"class\": \"mr-2\"\n      }, \"/\"), __jsx(\"li\", {\n        \"class\": \"active\"\n      }, \"Kategori\")))))), __jsx(\"div\", {\n        className: \"main-content-wrapper\"\n      }, __jsx(\"div\", {\n        className: \"shop-page-wrapper ptb--80\"\n      }, __jsx(\"div\", {\n        className: \"container\"\n      }, __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"col-12\"\n      }, __jsx(\"div\", {\n        className: \"shop-products\"\n      }, ada === \"no\" ? __jsx(\"div\", {\n        id: \"non\",\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"img-eror icon icon-plant\"\n      }), __jsx(\"h1\", {\n        style: {\n          textAlign: \"center\",\n          paddingTop: \"100px\",\n          width: \"100%\",\n          paddingBottom: \"100px\"\n        }\n      }, \"Belum ada produk di kategori ini\")) : __jsx(\"div\", null, __jsx(\"div\", {\n        id: \"prod\",\n        className: \"row\"\n      }, this.state.postData), __jsx(ReactPaginate, {\n        previousLabel: \"prev\",\n        nextLabel: \"next\",\n        breakLabel: \"...\",\n        breakClassName: \"break-me\",\n        pageCount: this.state.pageCount,\n        marginPagesDisplayed: 2,\n        pageRangeDisplayed: 5,\n        onPageChange: this.handlePageClick,\n        containerClassName: \"pagination\",\n        subContainerClassName: \"pages pagination\",\n        activeClassName: \"active\"\n      })))))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n        var query, _yield$query, id, category, res, show, gambarnya, linknya, titlehead, des;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = _ref.query;\n                _context.next = 3;\n                return query;\n\n              case 3:\n                _yield$query = _context.sent;\n                id = _yield$query.id;\n                category = _yield$query.category;\n                _context.next = 8;\n                return fetch(\"https://zmbpediabogor.store/api/kategoryproduct/\" + id + \"/\" + category);\n\n              case 8:\n                res = _context.sent;\n                _context.next = 11;\n                return res.json();\n\n              case 11:\n                show = _context.sent;\n                gambarnya = '';\n                linknya = '';\n                titlehead = 'Belum ada produk di kategori ini';\n                des = '';\n\n                if (!show.data.length) {\n                  _context.next = 32;\n                  break;\n                }\n\n                _context.next = 19;\n                return show.namatitle;\n\n              case 19:\n                _context.t0 = _context.sent;\n                _context.t1 = 'zmbpediabogor | ' + _context.t0;\n                titlehead = _context.t1 + ' - kategori produk';\n                _context.next = 24;\n                return show.namatitle;\n\n              case 24:\n                _context.t2 = _context.sent;\n                des = 'Koleksi Tanaman terbaik kami dari kategori ' + _context.t2;\n                _context.next = 28;\n                return show.data[0].oggambar;\n\n              case 28:\n                gambarnya = _context.sent;\n                _context.next = 31;\n                return show.data[0].cronical;\n\n              case 31:\n                linknya = _context.sent;\n\n              case 32:\n                return _context.abrupt(\"return\", {\n                  show: show,\n                  category: category,\n                  id: id,\n                  gambarnya: gambarnya,\n                  linknya: linknya,\n                  des: des,\n                  titlehead: titlehead\n                });\n\n              case 33:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Category;\n}(React.Component);\n\nexport { Category as default };","map":null,"metadata":{},"sourceType":"module"}